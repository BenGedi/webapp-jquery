/*! Packages 11-01-2015 */

!function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=a(".tabs li a"),B=a(".tab"),C=a(".notifications").eq(0),D=a(".bookmarks"),E=a(".frmSettings"),F=a(".tab .btn-settings");b=function(a){for(var b=0;b<a.length;b++)if(a.eq(b).hasClass("tab-active"))return a.eq(b)},c=function(a){for(var b=0;b<a.length;b++)if(!a.eq(b).hasClass("hidden"))return a.eq(b)},q=function(a,b,c){x=a,w=b,z=c?c:w[0].id.slice(4)},m=function(b){var c=a("#tab-"+b),d=a('.tabs ul a[href="#'+b+'"]');x.removeClass("tab-active"),w.addClass("hidden"),location.hash=b,d.addClass("tab-active"),c.removeClass("hidden"),q(d,c,b)},i=function(a){a.hasClass("invalid")&&a.removeClass("invalid")},n=function(b,c){a.each(b,function(a,b){b.toggleClass(c)})},d=function(b){var c=a(b.target),d=a("#settings-"+z);c.toggleClass("active"),d.toggleClass("hidden")},o=function(a){u.attr("src",a),v.attr("href",a)},e=function(b,c,d){var e=a("<option></option>");d=f(d),e.attr("value",d),e.text(c),b.append(e)},k=function(a){a.preventDefault();var b=a.target,c=b.options[b.selectedIndex].value;o(c)},j=function(a){for(;a.eq(0).children().length>0;)a.eq(0).find("option:first").remove()},g=function(a){var b=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-zA-Z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/;return b.test(a)},f=function(a){var b=/^(https?:\/\/www.)/i;return b.test(a)?a.toLowerCase():"http://www."+a.toLowerCase()},p=function(a,b,c){for(var d,f,h=0;h<a.length;h++)f=b.eq(h).val(),d=a.eq(h).val(),""===f||g(f)||(b.eq(h).val(""),f=""),""===d||""!==f?""!==d||""===f?(""!==d&&""!==f?e(c,d,f):y++,i(a.eq(h)),i(b.eq(h))):a.eq(h).addClass("invalid"):b.eq(h).addClass("invalid")},l=function(b){b.preventDefault(),u=a("#content-"+z+" iframe"),v=a("#expand-"+z),y=0;var c=a(b.target),d=a("#bookmarks-"+z).eq(0),e=c.find('input[type="text"]'),f=c.find('input[type="url"]'),g=[d,v,u.parent()];if(d.children().length>0&&j(d,f),p(e,f,d),c.find("input.invalid").length>0)return c.find("input.invalid").eq(0).focus(),!1;if(3===y)return n(g,"hidden"),!1;d.hasClass("hidden")&&n(g,"hidden"),d.focus();var h=d.children(0).attr("value");return o(h),a("#btnSettings-"+z).click(),r(),!0},r=function(){if(Modernizr.localstorage){var b=a('[data-js="formTab"]'),c=[];console.log(b),a.each(b,function(b,d){console.log(b),console.log(d);for(var e=a(d),f=e.html(),g=e.find(".frmSettings-input"),h=e.find("select")[0].selectedIndex,i=[],j=0;j<g.length;j++){var k=g[j];console.log("$inputs[j]"),console.log(k),console.log("$inputs[j].value"),console.log(k.value),i.push(k.value),console.log("formValues"),console.log(i)}console.log("$tab"),console.log(e),console.log("formHtml"),console.log(f),console.log("$inputs"),console.log(g),console.log("selectedIndex"),console.log(h),c[d]=[f,h,i],console.log("data[val]"),console.log(c[d]),console.log("data"),console.log(c)}),console.log("JSON.stringify(data)"),console.log(JSON.stringify(c)),localStorage.setItem("data",JSON.stringify(c))}},s=function(){if(Modernizr.localstorage&&localStorage.getItem("data")){var b,c=a('[data-js="formTab"]');try{b=JSON.parse(localStorage.getItem("data"))}catch(d){return console.log(d),!1}for(var e=0;e<b.length;e++){var f,g,h,i,j,k=b[e],l=k[0],m=k[1],n=k[2],o=c.eq(e);o.html(l),g=o.find(".frmSettings-input");for(var p=0;p<g.length;p++)g[p].value=n[p];h=o.find("select"),h[0].selectedIndex=m,m>-1&&(f=h[0].options[h[0].selectedIndex].value,i=o.find("iframe"),i.attr("src",f),j=o.find(".to-website"),j.attr("href",f))}}},h=function(a){a.preventDefault();var b="hashchange"===a.type?a.target.location.href:a.target.href,c=b.indexOf("#")+1,d=b.slice(c);return d===z?!1:void m(d)},(t=function(){a(window).bind("hashchange",h),C.addClass("hidden");for(var e=0;4>e;e++)2>e&&(E.eq(e).submit(l),F.eq(e).click(d),D.eq(e).change(k)),A.eq(e).click(h);q(b(A),c(B)),a.ajax({url:"data/notification.txt",dataType:"text"}).done(function(a){a&&""!==a&&(C.removeClass("hidden"),C.text(a))}).fail(function(a){C.removeClass("hidden"),C.text(a)})})()}(jQuery);
//# sourceMappingURL=main.min.js.map